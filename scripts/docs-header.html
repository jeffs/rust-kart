<style>
.mermaid {
  background: #f8f8f8;
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
}
</style>
<script type="module">
import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({ startOnLoad: false, theme: 'default' });

document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('pre.language-mermaid').forEach((pre) => {
    const code = pre.querySelector('code');
    const container = document.createElement('div');
    container.className = 'mermaid';
    container.textContent = code ? code.textContent : pre.textContent;
    pre.parentElement.replaceWith(container);
  });
  mermaid.run();
});
</script>
